#!/bin/bash

# Inspired (or shamelessly copied from https://github.com/mattjmorrison/dotfiles)

set -e

#==============
# Variables
#==============
dotfiles_dir=$(dirname "$(readlink -f "$0")")

#==============
# Create symlinks in the home folder
#==============
ln -sf "$dotfiles_dir/bash/.bashrc" ~/.bashrc
ln -sf "$dotfiles_dir/bash/.bash_aliases" ~/.bash_aliases
ln -sf "$dotfiles_dir/git/.gitconfig" ~/.gitconfig

echo "Created symlinks:"
echo "  ~/.bashrc -> $dotfiles_dir/bash/.bashrc"
echo "  ~/.bash_aliases -> $dotfiles_dir/bash/.bash_aliases"
echo "  ~/.gitconfig -> $dotfiles_dir/git/.gitconfig"

#==============
# Set bash as the default shell (if not already bash)
#==============
if [ "$SHELL" != "/bin/bash" ] && [ -f /bin/bash ]; then
  echo "Changing default shell to bash..."
  chsh -s /bin/bash
elif [ ! -f /bin/bash ]; then
  echo "Warning: /bin/bash not found, skipping shell change"
fi

#==============
# Done
#==============
echo ""
echo "====== Summary ======"
echo "Dotfiles installed successfully!"
echo "Restart your shell or run: source ~/.bashrc"
echo "Enjoy -Alv"
